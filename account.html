<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Glyphland - Account Creation</title>
    <link rel="stylesheet" href="test.css">
</head>
<script>
    function findGetParameter(parameterName) {
        var url_string = window.location.href;
        var url = new URL(url_string);
        return url.searchParams.get(parameterName);
    }
</script>
<body>
    <div id="mySidenav" class="sidenav">
            <a class="active" href="account.html">Account Creation</a>
            <a href="character_creation.html">Character Creation</a>
            <a href="display.php">Show Tables</a>
    </div>
    <div id="main">
        <center>
                <h1>ᚸ ᛝ ᚰ ᚣ Glyphland ᚡ ᚳ ᛃ ᛡ</h1>
                <br>
                <h1>Accounts</h1>
        </center>
            <br>
        <center>
        <div id="resource-box" class="resourceBox">
        <h2>Search</h2>
        <form id=searchForm method="POST" action="account_search.php">
            Email:<br>
            <input type="text" name="email" value=""><br><br>
            <input type="submit">
        </form>

        <br>
        <form id=updateForm action="account_delete.php" method="POST"> 
            First name:<br>
            <input type="text" id="results_firstname" name="results_firstname" value=""><br><br>
            Last name:<br>
            <input type="text" id="results_lastname" name="results_lastname" value=""><br><br>
            Email:<br>
            <input type="text" id="results_email" name="results_email" value=""><br><br>
            Password:<br>
            <input type="text" id="results_password" name="results_password" value=""><br><br>

            <input type="button" name="update_button" value="Update" />
            <input type="button" name="delete_button" value="Delete" />
            <br>
            <div id="deleteStatusText" style="visibility: hidden">
                Entry Deleted
            </div>
            <div id="updateStatusText" style="visibility: hidden">
                Entry Updated
            </div>
        </form>
        </center>
        </div>
        <center>
        <h2>Create</h2>
        <form id=createform method="POST" action="./account_create.php"> 
            First name:<br>
            <input type="text" name="firstname" value=""><br><br>
            Last name:<br>
            <input type="text" name="lastname" value=""><br><br>
            Email Address:<br>
            <input type="text" name="email" value=""><br><br>
            Password:<br>
            <input type="text" name="password" value=""><br><br>
            <input type="submit" value="Submit">
        </form>
        </center>
    </div>
</body>
<script type="text/javascript">
    
    function setHidden()  
    {     
        var operation = findGetParameter("operation");
        var status = findGetParameter("status");
        console.log(operation);
        console.log(status);

        if(operation === "delete" && status === "1"){
            console.log("yeet")
            document.getElementById("deleteStatusText").style.visibility="visible"; 
        }
        if(operation === "update" && status === "1"){
            document.getElementById("updateStatusText").style.visibility="visible";
        }
    }

    setHidden();

    function updateDeleteForm(action) {
      var form = document.getElementById('updateForm');
      form.action = action;
      form.submit();
    }
    
    function loadForms() {
        document.getElementById("results_email").value = findGetParameter("email");
        document.getElementById("results_firstname").value = findGetParameter("fname");
        document.getElementById("results_lastname").value = findGetParameter("lname");
        document.getElementById("results_password").value = findGetParameter("password");
    }
    loadForms();
</script>
</html>

<script>


function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
    document.getElementById("main").style.marginLeft = "250px";
    document.body.style.backgroundColor = "rgba(46, 236, 150, 0.7)";
  }
  
  function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("main").style.marginLeft = "0";
    document.body.style.backgroundColor = "#2eec96";
  }
</script>